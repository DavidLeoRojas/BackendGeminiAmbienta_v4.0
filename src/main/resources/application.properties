# ===============================
# = DATASOURCE (Production)
# ===============================
# La URL de la base de datos se lee desde la variable de entorno SPRING_DATASOURCE_URL
spring.datasource.url=${SPRING_DATASOURCE_URL}
# El usuario de la base de datos se lee desde la variable de entorno SPRING_DATASOURCE_USERNAME
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
# La contraseña de la base de datos se lee desde la variable de entorno SPRING_DATASOURCE_PASSWORD
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
# El driver de la base de datos se lee desde la variable de entorno SPRING_DATASOURCE_DRIVER_CLASS_NAME
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME}

# ===============================
# = JPA / HIBERNATE (Production)
# ===============================
# Configura Hibernate para que se adapte a la base de datos PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# Opcional: Formatea las consultas SQL para que sean más legibles en los logs
spring.jpa.properties.hibernate.format_sql=true
# Opcional: Mostrar las consultas SQL en los logs (útil para debugging, deshabilitar en prod si es muy verboso)
spring.jpa.show-sql=false # Cambiado a false para producción
# Configura cómo Hibernate manejará el esquema de la base de datos
# Valores comunes: none, validate, update, create, create-drop
# Para producción, 'validate' es una opción segura si ya tienes el esquema creado.
# Para desarrollo o primera vez, 'update' puede ser útil.
spring.jpa.hibernate.ddl-auto=validate
# ===============================
# = SERVIDOR (Puerto)
# ===============================
# Render asigna dinámicamente el puerto a través de la variable de entorno PORT
server.port=${PORT:8080}

# ===============================
# = SEGURIDAD (JWT)
# ===============================
# Asegúrate de que tu filtro JWT use este encabezado para extraer el token
app.jwtHeader=${JWT_HEADER:Authorization}
# La cadena secreta para firmar los tokens JWT (debe ser segura y única)
app.jwtSecret=${JWT_SECRET:mySecretKey}
# Tiempo de expiración del token en milisegundos (ej: 10 horas = 10 * 60 * 60 * 1000)
app.jwtExpirationInMs=${JWT_EXPIRATION_MS:36000000}

# ===============================
# = LOGGING
# ===============================
# Nivel de log general
logging.level.root=INFO
# Nivel de log para JPA/Hibernate (útil para ver consultas y problemas de persistencia)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# Nivel de log para Spring Security
logging.level.org.springframework.security=DEBUG
# Nivel de log para tu paquete base (reemplaza com.gemini.gemini_ambiental si es diferente)
logging.level.com.gemini.gemini_ambiental=DEBUG

# ===============================
# = ACTUADORES (Opcional)
# ===============================
# Habilita los endpoints de Spring Boot Actuator para monitoreo
management.endpoints.web.exposure.include=health,info,metrics